{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\components\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\components\\user\\index.vue","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\babel.config.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1651254380000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcQWRtaW5pc3RyYXRvclxcRGVza3RvcFxcdjNuZXRlYXNlLTNuZXRlYXNlXFxub2RlX21vZHVsZXNcXEB2dWVcXGNsaS1wbHVnaW4tYmFiZWxcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldHVzZXJkYXRhLCBnZXRmb2xsb3cgfSBmcm9tICdAL2FwaS91c2VyLmpzJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyByZWFjdGl2ZSwgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgQ29udGVudCBmcm9tICcuL2NvbXBvbmVudHMvY29udGVudC52dWUnOwppbXBvcnQgVXNlckRhdGEgZnJvbSAnLi9jb21wb25lbnRzL3VzZXJEYXRhLnZ1ZSc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CmltcG9ydCB7IGZpbHR0ZXJBcmVhIH0gZnJvbSAnQC9VdGlsL2ZsdHRlci5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb250ZW50OiBDb250ZW50LAogICAgVXNlckRhdGE6IFVzZXJEYXRhCiAgfSwKICBuYW1lOiAndXNlcmlkJywKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBhdHRycyA9IF9yZWYuYXR0cnM7CiAgICB2YXIgdXNlciA9IHJlYWN0aXZlKHsKICAgICAgcHJvZmlsZToge30sCiAgICAgIGxldmVsOiBudWxsLAogICAgICBjcmVhdGVEYXlzOiAwLAogICAgICBjcmVhdGVUaW1lOiAwLAogICAgICBsaXN0ZW5Tb25nczogMCwKICAgICAgY2l0eTogbnVsbCwKICAgICAgcHJvdmluY2U6IG51bGwKICAgIH0pOwogICAgdmFyIHNob3cgPSByZWYoZmFsc2UpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKCiAgICB2YXIgb25DbGlja0xlZnQgPSBmdW5jdGlvbiBvbkNsaWNrTGVmdCgpIHsKICAgICAgcm91dGVyLmJhY2soKTsKICAgIH07CgogICAgdmFyIGNoYW5nZVNob3cgPSBmdW5jdGlvbiBjaGFuZ2VTaG93KCkgewogICAgICBzaG93LnZhbHVlID0gIXNob3cudmFsdWU7CiAgICB9OwoKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfeWllbGQkZ2V0dXNlcmRhdGEsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldHVzZXJkYXRhKHsKICAgICAgICAgICAgICAgIHVpZDogYXR0cnMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkZ2V0dXNlcmRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0dXNlcmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB1c2VyLnByb2ZpbGUgPSBkYXRhLnByb2ZpbGU7CiAgICAgICAgICAgICAgICB1c2VyLmxldmVsID0gZGF0YS5sZXZlbDsKICAgICAgICAgICAgICAgIHVzZXIuY3JlYXRlRGF5cyA9IGRhdGEuY3JlYXRlRGF5czsKICAgICAgICAgICAgICAgIHVzZXIuY3JlYXRlVGltZSA9IGRhdGEuY3JlYXRlVGltZTsKICAgICAgICAgICAgICAgIHVzZXIubGlzdGVuU29uZ3MgPSBkYXRhLmxpc3RlblNvbmdzOwogICAgICAgICAgICAgICAgdXNlci5jaXR5ID0gZGF0YS5wcm9maWxlLmNpdHk7CiAgICAgICAgICAgICAgICB1c2VyLnByb3ZpbmNlID0gZGF0YS5wcm9maWxlLnByb3ZpbmNlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwoKICAgIHZhciB1c2Vmb2xsb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkZ2V0Zm9sbG93LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldGZvbGxvdyh7CiAgICAgICAgICAgICAgICAgIGlkOiBhdHRycy5pZCwKICAgICAgICAgICAgICAgICAgdDogdXNlci5wcm9maWxlLmZvbGxvd2VkID8gMiA6IDEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0Zm9sbG93ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldGZvbGxvdy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICB1c2VyLnByb2ZpbGUuZm9sbG93ZWQgPSAhdXNlci5wcm9maWxlLmZvbGxvd2VkOwogICAgICAgICAgICAgICAgICB1c2VyLnByb2ZpbGUuZm9sbG93ZWQgPyBUb2FzdC5zdWNjZXNzKCflhbPms6jmiJDlip8nKSA6IFRvYXN0LmZhaWwoJ+WPlua2iOWFs+azqOaIkOWKnycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gdXNlZm9sbG93KCkgewogICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICByb3V0ZTogcm91dGUsCiAgICAgIG9uQ2xpY2tMZWZ0OiBvbkNsaWNrTGVmdCwKICAgICAgdXNlcjogdXNlciwKICAgICAgYXR0cnM6IGF0dHJzLAogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIHNob3c6IHNob3csCiAgICAgIGNoYW5nZVNob3c6IGNoYW5nZVNob3csCiAgICAgIGdldGZvbGxvdzogZ2V0Zm9sbG93LAogICAgICB1c2Vmb2xsb3c6IHVzZWZvbGxvdywKICAgICAgZmlsdHRlckFyZWE6IGZpbHR0ZXJBcmVhCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\components\\user\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nimport { getuserdata, getfollow } from '@/api/user.js';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nimport { reactive, onMounted, ref } from 'vue';\nimport Content from './components/content.vue';\nimport UserData from './components/userData.vue';\nimport { Toast } from 'vant';\nimport { filtterArea } from '@/Util/fltter.js';\nexport default {\n  components: { Content, UserData },\n  name: 'userid',\n  setup(props, { attrs }) {\n    const user = reactive({\n      profile: {},\n      level: null,\n      createDays: 0,\n      createTime: 0,\n      listenSongs: 0,\n      city: null,\n      province: null,\n    });\n    const show = ref(false);\n    const router = useRouter();\n    const route = useRoute();\n    const onClickLeft = () => {\n      router.back();\n    };\n    const changeShow = () => {\n      show.value = !show.value;\n    };\n    const store = useStore();\n\n    onMounted(async () => {\n      const { data } = await getuserdata({\n        uid: attrs.id,\n      });\n\n      if (data.code === 200) {\n        user.profile = data.profile;\n        user.level = data.level;\n        user.createDays = data.createDays;\n        user.createTime = data.createTime;\n        user.listenSongs = data.listenSongs;\n        user.city = data.profile.city;\n        user.province = data.profile.province;\n      }\n    });\n    const usefollow = async () => {\n      const { data } = await getfollow({\n        id: attrs.id,\n        t: user.profile.followed ? 2 : 1,\n      });\n      if (data.code === 200) {\n        user.profile.followed = !user.profile.followed;\n\n        user.profile.followed ? Toast.success('关注成功') : Toast.fail('取消关注成功');\n      }\n    };\n    return {\n      router,\n      route,\n      onClickLeft,\n      user,\n      attrs,\n      store,\n      show,\n      changeShow,\n      getfollow,\n      usefollow,\n      filtterArea,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user {\n  width: 100%;\n\n  ::v-deep(.van-nav-bar) {\n    background: transparent;\n  }\n\n  .userdata {\n    position: relative;\n    width: 95vw;\n    height: auto;\n    border-radius: 15px;\n\n    margin: 0 auto;\n    z-index: 1;\n    border-radius: 15px;\n    text-align: center;\n    ::v-deep(.van-image) {\n      position: absolute;\n      top: -26%;\n      left: 50%;\n      transform: translate(-50%);\n    }\n    .name {\n      margin: 20px 5px;\n      vertical-align: middle;\n    }\n    .title {\n      margin: 20px 10px;\n      font-size: 12px;\n      color: #bfbfbf;\n    }\n    .editor {\n      margin: 10px auto;\n      ::v-deep(.van-button) {\n        margin-right: 10px;\n        vertical-align: middle;\n        border: 1px solid #bfbfbf;\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"user\">\n    <van-nav-bar :border=\"false\" @click-left=\"onClickLeft\" fixed>\n      <template #left><van-icon name=\"arrow-left\" size=\"25\" color=\"#323233\" /> </template>\n    </van-nav-bar>\n    <van-image width=\"100vw\" height=\"42vh\" :src=\"user.profile.backgroundUrl\" />\n    <div class=\"userdata\">\n      <van-image\n        width=\"60\"\n        height=\"60\"\n        round\n        fit=\"cover\"\n        class=\" animate__animated animate__zoomInUp\"\n        :src=\"user.profile.avatarUrl\"\n      />\n      <br />\n      <span class=\"name\" style=\"font-size: 16px; font-weight: bold; font-size: 16px\">{{ user.profile.nickname }}</span\n      ><van-icon class=\"name\" name=\"vip-card-o\" :color=\"user.profile.vipType === 0 ? '#c0c0c0' : 'red'\" size=\"25\"\n        ><span style=\"font-size: 13px; vertical-align: top\">\n          {{ user.profile.vipType }}\n        </span></van-icon\n      ><br />\n      <div style=\"margin-bottom:20px;\">\n        <van-button type=\"primary\" color=\"#07c160\" size=\"mini\" round>{{ filtterArea(user.province) }}</van-button>\n        <van-button type=\"primary\" color=\"#07c160\" size=\"mini\" round>{{ filtterArea(user.city) }}</van-button>\n      </div>\n      <div>\n        <span class=\"title\">{{ user.profile.follows }} 关注</span>\n        <span class=\"title\">{{ user.profile.followeds }} 粉丝</span>\n        <span class=\"title\"> Lv.{{ user.level }}</span>\n      </div>\n      <div class=\"editor\">\n        <van-button\n          v-if=\"attrs.id == store.state.profile.userId\"\n          type=\"primary\"\n          size=\"mini\"\n          round\n          hairline\n          @click=\"show = !show\"\n          >编辑资料</van-button\n        >\n        <div v-else>\n          <van-button\n            type=\"primary\"\n            :color=\"user.profile.followed ? '#07c160' : 'red'\"\n            size=\"mini\"\n            :icon=\"user.profile.followed ? '' : 'add-o'\"\n            round\n            @click=\"usefollow\"\n            >{{ user.profile.followed ? user.profile.followTime : '关注' }}</van-button\n          >\n          <van-button type=\"primary\" color=\"#323233\" size=\"mini\" round\n            ><span style=\"padding:10px;\">聊天</span></van-button\n          >\n        </div>\n\n        <van-icon name=\"arrow-down\" size=\"20\" />\n      </div>\n    </div>\n    <Content\n      :user=\"{\n        profile: user.profile,\n        createDays: user.createDays,\n        createTime: user.createTime,\n        listenSongs: user.listenSongs,\n        id: attrs.id,\n      }\"\n    />\n    <van-popup v-model:show=\"show\" position=\"top\" :style=\"{ height: '110%', width: '100%' }\"\n      ><UserData @changeShow=\"changeShow\"\n    /></van-popup>\n  </div>\n</template>\n"],"sourceRoot":""}]}