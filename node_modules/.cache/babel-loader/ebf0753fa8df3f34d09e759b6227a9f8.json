{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\Videosquare\\item.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\Videosquare\\item.vue","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\babel.config.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1651254380000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXEFkbWluaXN0cmF0b3JcXERlc2t0b3BcXHYzbmV0ZWFzZS0zbmV0ZWFzZVxcbm9kZV9tb2R1bGVzXFxAdnVlXFxjbGktcGx1Z2luLWJhYmVsXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcVXNlcnNcXEFkbWluaXN0cmF0b3JcXERlc2t0b3BcXHYzbmV0ZWFzZS0zbmV0ZWFzZVxcbm9kZV9tb2R1bGVzXFxAdnVlXFxjbGktcGx1Z2luLWJhYmVsXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXRncm91cCB9IGZyb20gJ0AvYXBpL3ZpZGVvLmpzJzsKaW1wb3J0IHsgcmVmLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHBsYXlDb3VudCB9IGZyb20gJ0AvVXRpbC9mbHR0ZXIuanMnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpdGVtdmlkZW8nLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGF0dHJzID0gX3JlZi5hdHRyczsKICAgIHZhciBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIHZhciBmaW5pc2hlZCA9IHJlZihmYWxzZSk7CiAgICB2YXIgdmlkZW9saXN0ID0gcmVhY3RpdmUoewogICAgICBkYXRhczogW10sCiAgICAgIG9mZnNldDogMAogICAgfSk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogICAgdmFyIG9uTG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3ZpZGVvbGlzdCRkYXRhczsKCiAgICAgICAgdmFyIF95aWVsZCRnZXRncm91cCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Z3JvdXAoewogICAgICAgICAgICAgICAgICBpZDogYXR0cnMuaXRlbSwKICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB2aWRlb2xpc3Qub2Zmc2V0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldGdyb3VwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0Z3JvdXAuZGF0YTsKCiAgICAgICAgICAgICAgICAoX3ZpZGVvbGlzdCRkYXRhcyA9IHZpZGVvbGlzdC5kYXRhcykucHVzaC5hcHBseShfdmlkZW9saXN0JGRhdGFzLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5kYXRhcykpOwoKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgdmlkZW9saXN0Lm9mZnNldCsrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmluaXNoZWQudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uTG9hZCgpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICBmaW5pc2hlZDogZmluaXNoZWQsCiAgICAgIG9uTG9hZDogb25Mb2FkLAogICAgICB2aWRlb2xpc3Q6IHZpZGVvbGlzdCwKICAgICAgcGxheUNvdW50OiBwbGF5Q291bnQsCiAgICAgIHJvdXRlcjogcm91dGVyCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\Videosquare\\item.vue"],"names":[],"mappings":";;;AACA,SAAS,QAAT,QAAyB,gBAAzB;AAEA,SAAS,GAAT,EAAc,QAAd,QAA8B,KAA9B;AACA,SAAS,SAAT,QAA0B,kBAA1B;AACA,SAAS,SAAT,QAA0B,YAA1B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,KAFa,iBAEP,KAFO,QAEW;AAAA,QAAT,KAAS,QAAT,KAAS;AACtB,QAAM,OAAM,GAAI,GAAG,CAAC,KAAD,CAAnB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;AACA,QAAM,SAAQ,GAAI,QAAQ,CAAC;AACzB,MAAA,KAAK,EAAE,EADkB;AAEzB,MAAA,MAAM,EAAE;AAFiB,KAAD,CAA1B;AAKA,QAAM,MAAK,GAAI,SAAS,EAAxB;;AAEA,QAAM,MAAK;AAAA,0EAAI;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACU,QAAQ,CAAC;AAC9B,kBAAA,EAAE,EAAE,KAAK,CAAC,IADoB;AAE9B,kBAAA,MAAM,EAAE,SAAS,CAAC;AAFY,iBAAD,CADlB;;AAAA;AAAA;AACL,gBAAA,IADK,mBACL,IADK;;AAMb,oCAAA,SAAS,CAAC,KAAV,EAAgB,IAAhB,4CAAwB,IAAI,CAAC,KAA7B;;AACA,gBAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;;AAEA,oBAAI,IAAI,CAAC,KAAL,CAAW,MAAf,EAAuB;AACrB,kBAAA,SAAS,CAAC,MAAV;AACF,iBAFA,MAEO;AACL,kBAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB;AACF;;AAba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAL,MAAK;AAAA;AAAA;AAAA,OAAX;;AAgBA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,QAAQ,EAAR,QAFK;AAGL,MAAA,MAAM,EAAN,MAHK;AAIL,MAAA,SAAS,EAAT,SAJK;AAKL,MAAA,SAAS,EAAT,SALK;AAML,MAAA,MAAM,EAAN;AANK,KAAP;AAQD;AApCY,CAAf","sourcesContent":["<script>\nimport { getgroup } from '@/api/video.js';\n\nimport { ref, reactive } from 'vue';\nimport { playCount } from '@/Util/fltter.js';\nimport { useRouter } from 'vue-router';\n\nexport default {\n  name: 'itemvideo',\n  setup(props, { attrs }) {\n    const loading = ref(false);\n    const finished = ref(false);\n    const videolist = reactive({\n      datas: [],\n      offset: 0,\n    });\n\n    const router = useRouter();\n\n    const onLoad = async () => {\n      const { data } = await getgroup({\n        id: attrs.item,\n        offset: videolist.offset,\n      });\n\n      videolist.datas.push(...data.datas);\n      loading.value = false;\n\n      if (data.datas.length) {\n        videolist.offset++;\n      } else {\n        finished.value = true;\n      }\n    };\n\n    return {\n      loading,\n      finished,\n      onLoad,\n      videolist,\n      playCount,\n      router,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.item {\n  margin: 0 auto;\n  height: 78vh;\n\n  overflow-y: auto;\n  .videoitem {\n    width: 47%;\n    height: auto;\n\n    border-radius: 15px;\n    margin: 5px;\n    .title {\n      margin: 5px;\n    }\n    .user {\n      width: 95%;\n      margin: 0 auto;\n\n      display: flex;\n      align-items: center;\n      & div {\n      }\n      .title {\n        width: 35%;\n      }\n    }\n  }\n  ::v-deep(.van-list) {\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    padding-bottom: 50px;\n  }\n  .job {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n}\n</style>\n\n<template>\n  <div class=\"item\">\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n      <div class=\"videoitem\" v-for=\"(item, index) in videolist.datas\" :key=\"index\">\n        <div>\n          <van-image\n            width=\"100%\"\n            fit=\"cover\"\n            radius=\"15\"\n            :src=\"item.data.coverUrl\"\n            @click=\"\n              router.push({\n                name: 'video',\n                params: {\n                  id: item.data.vid,\n                },\n              })\n            \"\n          >\n            <template v-slot:loading> <van-loading type=\"spinner\" size=\"20\" color=\"#000\" /> </template\n          ></van-image>\n        </div>\n        <div class=\"title van-multi-ellipsis--l2\">\n          {{ item.data.title }}\n        </div>\n        <div class=\"user\">\n          <div>\n            <van-image width=\"30\" height=\"30\" fit=\"cover\" round :src=\"item.data.creator.avatarUrl\" />\n          </div>\n          <div class=\"title van-ellipsis\">\n            {{ item.data.creator.nickname }}\n          </div>\n          <div class=\"job\">\n            <van-icon name=\"good-job-o\" /><span>{{ playCount(item.data.playTime) }}</span>\n          </div>\n        </div>\n      </div>\n      <nut-backtop :bottom=\"150\" :right=\"50\"></nut-backtop>\n    </van-list>\n  </div>\n</template>\n"],"sourceRoot":""}]}