{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue?vue&type=style&index=0&id=e60039a2&lang=less&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\less-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1651254380000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb250ZW50IHsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiA1cHg7CiAgaGVpZ2h0OiA4M3ZoOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgb3ZlcmZsb3cteTogYXV0bzsKICAuaXRlbW1hcmdpbiB7CiAgICBtYXJnaW46IDM1cHggMDsKICAgIC56aWxpYW8gewogICAgICB3aWR0aDogODZ2dzsKICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICBtYXJnaW46IDVweCAwOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CgogICAgICAuYm90dG9taXRlbSB7CiAgICAgICAgY29sb3I6ICNiZmJmYmY7CiAgICAgICAgZm9udC1zaXplOiAxM3B4OwoKICAgICAgICAuaWNvbiB7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue"],"names":[],"mappings":";AAyHA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;QAEf,CAAC,CAAC,CAAC,CAAC,EAAE;UACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnB;MACF;IACF;EACF;AACF","file":"C:/Users/Administrator/Desktop/v3netease-3netease/src/views/follow/components/reuse.vue","sourceRoot":"","sourcesContent":["<script>\nimport { getevent, gettopic, gettopics } from '@/api/user.js';\nimport Item from './item.vue';\nimport { Dynamiclist } from '@/hooks/container.js';\nimport { onMounted } from '@vue/runtime-core';\nimport ItemDynamic from './itemDynamic.vue';\nimport { getdelates } from '@/api/dynamic.js';\nimport { ref, provide } from 'vue';\nimport { useStore } from 'vuex';\nimport { Toast } from 'vant';\nexport default {\n  components: { Item, ItemDynamic },\n  name: 'reuse',\n  setup(props, { expose }) {\n    const loading = ref(false);\n    const finished = ref(false);\n    const store = useStore();\n    const showShare = ref(false);\n    const show = ref(false);\n    const itemActive = ref(null);\n    const lasttime = ref(-1);\n    const options = ref([\n      [\n        { name: '微信', icon: 'wechat' },\n        { name: '朋友圈', icon: 'wechat-moments' },\n        { name: '微博', icon: 'weibo' },\n        { name: 'QQ', icon: 'qq' },\n      ],\n      [\n        { name: '复制链接', icon: 'link' },\n        { name: '分享海报', icon: 'poster', index: null, id: null },\n        { name: '二维码', icon: 'qrcode' },\n        { name: '小程序码', icon: 'weapp-qrcode' },\n      ],\n    ]);\n\n    onMounted(async () => {\n      const { data } = await gettopic();\n      const res = await gettopics();\n    });\n    const onLoad = async () => {\n      const { data } = await getevent({\n        pagesize: 5,\n        lasttime: lasttime.value,\n      });\n      for (let i in data.event) {\n        Object.defineProperties(data.event[i], {\n          json: {\n            value: JSON.parse(data.event[i].json),\n          },\n        });\n      }\n\n      Dynamiclist.value.push(...data.event);\n\n      loading.value = false;\n\n      if (data.event.length) {\n        lasttime.value = data.lasttime;\n      } else {\n        finished.value = true;\n      }\n    };\n    expose({\n      onLoad,\n    });\n    const changeshow = () => (show.value = !show.value);\n    const activeItem = (item) => {\n      itemActive.value = item;\n      show.value = !show.value;\n    };\n    const deletes = (item, index) => {\n      if (item.user.userId === store.state.profile.userId) {\n        options.value.flat()[5].name = '删除';\n        options.value.flat()[5].index = index;\n        options.value.flat()[5].id = item.id;\n        options.value.flat()[5].icon =\n          'https://img1.baidu.com/it/u=2198873381,3249768272&fm=253&fmt=auto&app=138&f=JPG?w=500&h=500';\n      } else {\n        options.value.flat()[5].name = '分享海报';\n        options.value.flat()[5].icon = 'poster';\n        options.value.flat()[5].index = null;\n      }\n\n      showShare.value = !showShare.value;\n    };\n    const select = async (name) => {\n      if (name.name === '删除') {\n        const { data } = await getdelates({\n          evId: name.id,\n        });\n        if (data.code === 200) {\n          Toast('删除成功');\n        }\n        Dynamiclist.value.splice(name.index, 1);\n        showShare.value = !showShare.value;\n      }\n    };\n\n    return {\n      getevent,\n      Dynamiclist,\n      options,\n      showShare,\n      onLoad,\n      loading,\n      finished,\n      lasttime,\n      show,\n      changeshow,\n      itemActive,\n      activeItem,\n      Dynamiclist,\n      deletes,\n      select,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.content {\n  width: 100%;\n  padding: 5px;\n  height: 83vh;\n  box-sizing: border-box;\n  overflow-y: auto;\n  .itemmargin {\n    margin: 35px 0;\n    .ziliao {\n      width: 86vw;\n      float: right;\n      margin: 5px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .bottomitem {\n        color: #bfbfbf;\n        font-size: 13px;\n\n        .icon {\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"content\">\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\n      ><div v-for=\"(item, index) in Dynamiclist\" :key=\"index\" class=\"itemmargin\">\n        <Item :item=\"item\" />\n\n        <!--    <div class=\"\">{{ item.json.song }}</div> -->\n        <div class=\"ziliao\">\n          <div class=\"bottomitem\"><van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发</div>\n          <div class=\"bottomitem\">\n            <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" @click=\"activeItem(item)\" />{{ item.info.commentCount }}\n          </div>\n          <div class=\"bottomitem\"><van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{ item.info.likedCount }}</div>\n          <van-icon name=\"ellipsis\" size=\"20\" @click.stop=\"deletes(item, index)\" />\n        </div>\n        <div class=\"van-hairline--bottom\"></div>\n      </div>\n      <van-share-sheet\n        v-model:show=\"showShare\"\n        title=\"立即分享给好友\"\n        @select=\"select\"\n        :options=\"options\"\n        teleport=\"body\"\n      />\n      <van-popup\n        v-model:show=\"show\"\n        position=\"right\"\n        safe-area-inset-top\n        :style=\"{ height: '100%', width: '100%' }\"\n        teleport=\"body\"\n        ><ItemDynamic @changeshow=\"changeshow\" :item=\"itemActive\"\n      /></van-popup>\n    </van-list>\n  </div>\n</template>\n"]}]}