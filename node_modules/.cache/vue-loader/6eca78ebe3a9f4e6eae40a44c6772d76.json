{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue?vue&type=template&id=e60039a2&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651254380000},{"path":"C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1651254380000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY29udGVudCI+CiAgICA8dmFuLWxpc3Qgdi1tb2RlbDpsb2FkaW5nPSJsb2FkaW5nIiA6ZmluaXNoZWQ9ImZpbmlzaGVkIiBmaW5pc2hlZC10ZXh0PSLmsqHmnInmm7TlpJrkuoYiIEBsb2FkPSJvbkxvYWQiCiAgICAgID48ZGl2IHYtZm9yPSIoaXRlbSwgaW5kZXgpIGluIER5bmFtaWNsaXN0IiA6a2V5PSJpbmRleCIgY2xhc3M9Iml0ZW1tYXJnaW4iPgogICAgICAgIDxJdGVtIDppdGVtPSJpdGVtIiAvPgoKICAgICAgICA8IS0tICAgIDxkaXYgY2xhc3M9IiI+e3sgaXRlbS5qc29uLnNvbmcgfX08L2Rpdj4gLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iemlsaWFvIj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbWl0ZW0iPjx2YW4taWNvbiBzaXplPSIxNSIgY2xhc3M9Imljb24iIG5hbWU9InJldm9rZSIgLz7ovazlj5E8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbWl0ZW0iPgogICAgICAgICAgICA8dmFuLWljb24gc2l6ZT0iMTgiIGNsYXNzPSJpY29uIiBuYW1lPSJjaGF0LW8iIEBjbGljaz0iYWN0aXZlSXRlbShpdGVtKSIgLz57eyBpdGVtLmluZm8uY29tbWVudENvdW50IH19CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImJvdHRvbWl0ZW0iPjx2YW4taWNvbiBzaXplPSIxOCIgY2xhc3M9Imljb24iIG5hbWU9Imdvb2Qtam9iLW8iIC8+e3sgaXRlbS5pbmZvLmxpa2VkQ291bnQgfX08L2Rpdj4KICAgICAgICAgIDx2YW4taWNvbiBuYW1lPSJlbGxpcHNpcyIgc2l6ZT0iMjAiIEBjbGljay5zdG9wPSJkZWxldGVzKGl0ZW0sIGluZGV4KSIgLz4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ2YW4taGFpcmxpbmUtLWJvdHRvbSI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8dmFuLXNoYXJlLXNoZWV0CiAgICAgICAgdi1tb2RlbDpzaG93PSJzaG93U2hhcmUiCiAgICAgICAgdGl0bGU9Iueri+WNs+WIhuS6q+e7meWlveWPiyIKICAgICAgICBAc2VsZWN0PSJzZWxlY3QiCiAgICAgICAgOm9wdGlvbnM9Im9wdGlvbnMiCiAgICAgICAgdGVsZXBvcnQ9ImJvZHkiCiAgICAgIC8+CiAgICAgIDx2YW4tcG9wdXAKICAgICAgICB2LW1vZGVsOnNob3c9InNob3ciCiAgICAgICAgcG9zaXRpb249InJpZ2h0IgogICAgICAgIHNhZmUtYXJlYS1pbnNldC10b3AKICAgICAgICA6c3R5bGU9InsgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnMTAwJScgfSIKICAgICAgICB0ZWxlcG9ydD0iYm9keSIKICAgICAgICA+PEl0ZW1EeW5hbWljIEBjaGFuZ2VzaG93PSJjaGFuZ2VzaG93IiA6aXRlbT0iaXRlbUFjdGl2ZSIKICAgICAgLz48L3Zhbi1wb3B1cD4KICAgIDwvdmFuLWxpc3Q+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\v3netease-3netease\\src\\views\\follow\\components\\reuse.vue"],"names":[],"mappings":";EAuJE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1F,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;QAEpB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UACxG,CAAC,CAAC,CAAC,CAAC,CAAC;UACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC5G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Administrator/Desktop/v3netease-3netease/src/views/follow/components/reuse.vue","sourceRoot":"","sourcesContent":["<script>\nimport { getevent, gettopic, gettopics } from '@/api/user.js';\nimport Item from './item.vue';\nimport { Dynamiclist } from '@/hooks/container.js';\nimport { onMounted } from '@vue/runtime-core';\nimport ItemDynamic from './itemDynamic.vue';\nimport { getdelates } from '@/api/dynamic.js';\nimport { ref, provide } from 'vue';\nimport { useStore } from 'vuex';\nimport { Toast } from 'vant';\nexport default {\n  components: { Item, ItemDynamic },\n  name: 'reuse',\n  setup(props, { expose }) {\n    const loading = ref(false);\n    const finished = ref(false);\n    const store = useStore();\n    const showShare = ref(false);\n    const show = ref(false);\n    const itemActive = ref(null);\n    const lasttime = ref(-1);\n    const options = ref([\n      [\n        { name: '微信', icon: 'wechat' },\n        { name: '朋友圈', icon: 'wechat-moments' },\n        { name: '微博', icon: 'weibo' },\n        { name: 'QQ', icon: 'qq' },\n      ],\n      [\n        { name: '复制链接', icon: 'link' },\n        { name: '分享海报', icon: 'poster', index: null, id: null },\n        { name: '二维码', icon: 'qrcode' },\n        { name: '小程序码', icon: 'weapp-qrcode' },\n      ],\n    ]);\n\n    onMounted(async () => {\n      const { data } = await gettopic();\n      const res = await gettopics();\n    });\n    const onLoad = async () => {\n      const { data } = await getevent({\n        pagesize: 5,\n        lasttime: lasttime.value,\n      });\n      for (let i in data.event) {\n        Object.defineProperties(data.event[i], {\n          json: {\n            value: JSON.parse(data.event[i].json),\n          },\n        });\n      }\n\n      Dynamiclist.value.push(...data.event);\n\n      loading.value = false;\n\n      if (data.event.length) {\n        lasttime.value = data.lasttime;\n      } else {\n        finished.value = true;\n      }\n    };\n    expose({\n      onLoad,\n    });\n    const changeshow = () => (show.value = !show.value);\n    const activeItem = (item) => {\n      itemActive.value = item;\n      show.value = !show.value;\n    };\n    const deletes = (item, index) => {\n      if (item.user.userId === store.state.profile.userId) {\n        options.value.flat()[5].name = '删除';\n        options.value.flat()[5].index = index;\n        options.value.flat()[5].id = item.id;\n        options.value.flat()[5].icon =\n          'https://img1.baidu.com/it/u=2198873381,3249768272&fm=253&fmt=auto&app=138&f=JPG?w=500&h=500';\n      } else {\n        options.value.flat()[5].name = '分享海报';\n        options.value.flat()[5].icon = 'poster';\n        options.value.flat()[5].index = null;\n      }\n\n      showShare.value = !showShare.value;\n    };\n    const select = async (name) => {\n      if (name.name === '删除') {\n        const { data } = await getdelates({\n          evId: name.id,\n        });\n        if (data.code === 200) {\n          Toast('删除成功');\n        }\n        Dynamiclist.value.splice(name.index, 1);\n        showShare.value = !showShare.value;\n      }\n    };\n\n    return {\n      getevent,\n      Dynamiclist,\n      options,\n      showShare,\n      onLoad,\n      loading,\n      finished,\n      lasttime,\n      show,\n      changeshow,\n      itemActive,\n      activeItem,\n      Dynamiclist,\n      deletes,\n      select,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.content {\n  width: 100%;\n  padding: 5px;\n  height: 83vh;\n  box-sizing: border-box;\n  overflow-y: auto;\n  .itemmargin {\n    margin: 35px 0;\n    .ziliao {\n      width: 86vw;\n      float: right;\n      margin: 5px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .bottomitem {\n        color: #bfbfbf;\n        font-size: 13px;\n\n        .icon {\n          margin-right: 5px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"content\">\n    <van-list v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\n      ><div v-for=\"(item, index) in Dynamiclist\" :key=\"index\" class=\"itemmargin\">\n        <Item :item=\"item\" />\n\n        <!--    <div class=\"\">{{ item.json.song }}</div> -->\n        <div class=\"ziliao\">\n          <div class=\"bottomitem\"><van-icon size=\"15\" class=\"icon\" name=\"revoke\" />转发</div>\n          <div class=\"bottomitem\">\n            <van-icon size=\"18\" class=\"icon\" name=\"chat-o\" @click=\"activeItem(item)\" />{{ item.info.commentCount }}\n          </div>\n          <div class=\"bottomitem\"><van-icon size=\"18\" class=\"icon\" name=\"good-job-o\" />{{ item.info.likedCount }}</div>\n          <van-icon name=\"ellipsis\" size=\"20\" @click.stop=\"deletes(item, index)\" />\n        </div>\n        <div class=\"van-hairline--bottom\"></div>\n      </div>\n      <van-share-sheet\n        v-model:show=\"showShare\"\n        title=\"立即分享给好友\"\n        @select=\"select\"\n        :options=\"options\"\n        teleport=\"body\"\n      />\n      <van-popup\n        v-model:show=\"show\"\n        position=\"right\"\n        safe-area-inset-top\n        :style=\"{ height: '100%', width: '100%' }\"\n        teleport=\"body\"\n        ><ItemDynamic @changeshow=\"changeshow\" :item=\"itemActive\"\n      /></van-popup>\n    </van-list>\n  </div>\n</template>\n"]}]}